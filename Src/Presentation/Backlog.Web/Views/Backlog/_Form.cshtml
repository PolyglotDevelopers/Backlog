@model BacklogItemModel
<input type="hidden" asp-for="Id" />

<div class="row">
    <div class="col-md-12">
        <div class="mb-3">
            <pd-label asp-for="Title" class="form-pd-label"></pd-label>
            <input asp-for="Title" class="form-control form-control-maxlength" maxlength="500" />
            <span asp-validation-for="Title" class="text-danger"></span>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <div class="mb-3">
            <pd-label asp-for="Description" class="form-pd-label"></pd-label>
            <textarea asp-for="Description" class="form-control"></textarea>
            <span asp-validation-for="Description" class="text-danger"></span>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-4">
        <div class="mb-3">
            <pd-label asp-for="ProjectId" class="form-pd-label"></pd-label>
            <select asp-for="ProjectId" asp-items="Model.AvailableProjects" class="form-control select2"></select>
            <span asp-validation-for="ProjectId" class="text-danger"></span>
        </div>
    </div>
    <div class="col-md-4">
        <div class="mb-3">
            <pd-label asp-for="TaskTypeId" class="form-pd-label"></pd-label>
            <select asp-for="TaskTypeId" asp-items="Model.AvailableTaskTypes" class="form-control select2"></select>
            <span asp-validation-for="TaskTypeId" class="text-danger"></span>
        </div>
    </div>
    <div class="col-md-4">
        <div class="mb-3">
            <pd-label asp-for="SeverityId" class="form-pd-label"></pd-label>
            <select asp-for="SeverityId" asp-items="Model.AvailableSeverities" class="form-control select2"></select>
            <span asp-validation-for="SeverityId" class="text-danger"></span>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-6">
        <div class="mb-3">
            <pd-label asp-for="ModuleId" class="form-pd-label"></pd-label>
            <select asp-for="ModuleId" asp-items="Model.AvailableModules" class="form-control select2"></select>
            <span asp-validation-for="ModuleId" class="text-danger"></span>
        </div>
    </div>
    <div class="col-md-6">
        <div class="mb-3">
            <pd-label asp-for="SubModuleId" class="form-pd-label"></pd-label>
            <select asp-for="SubModuleId" asp-items="Model.AvailableSubModules" class="form-control select2"></select>
            <span asp-validation-for="SubModuleId" class="text-danger"></span>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-4">
        <div class="mb-3">
            <pd-label asp-for="AssigneeId" class="form-pd-label"></pd-label>
            <select asp-for="AssigneeId" asp-items="Model.AvailableAssignees" class="form-control select2"></select>
            <span asp-validation-for="ModuleId" class="text-danger"></span>
        </div>
    </div>
    <div class="col-md-3">
        <div class="mb-3">
            <pd-label asp-for="SprintId" class="form-pd-label"></pd-label>
            <select asp-for="SprintId" asp-items="Model.AvailableSprints" class="form-control select2"></select>
            <span asp-validation-for="SprintId" class="text-danger"></span>
        </div>
    </div>
    <div class="col-md-3">
        <div class="mb-3">
            <pd-label asp-for="StatusId" class="form-pd-label"></pd-label>
            <select asp-for="StatusId" asp-items="Model.AvailableStatus" class="form-control select2"></select>
            <span asp-validation-for="StatusId" class="text-danger"></span>
        </div>
    </div>
    <div class="col-md-2">
        <div class="mb-3">
            <pd-label asp-for="DueDate" class="form-pd-label"></pd-label>
            <input asp-for="DueDate" type="text" class="form-control datepicker" />
            <span asp-validation-for="DueDate" class="text-danger"></span>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-6">
        <div class="mb-3">
            <pd-label asp-for="ParentId" class="form-pd-label"></pd-label>
            <select asp-for="ParentId" asp-items="Model.AvailableParents" class="form-control select2"></select>
            <span asp-validation-for="ParentId" class="text-danger"></span>
        </div>
    </div>
    <div class="col-md-6">
        <div class="mb-3">
            <pd-label asp-for="ParentId" class="form-pd-label"></pd-label>
            <input asp-for="Files" class="form-control" multiple />
        </div>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        let options = {
            selector: '#Description',
            height: 300,
            menubar: false,
            statusbar: false,
            plugins: [
                'advlist autolink lists link image charmap print preview anchor',
                'searchreplace visualblocks code fullscreen',
                'insertdatetime media table paste code help wordcount'
            ],
            toolbar: 'undo redo | formatselect | ' +
                'bold italic backcolor | alignleft aligncenter ' +
                'alignright alignjustify | bullist numlist outdent indent | ' +
                'removeformat',
            content_style: 'body { font-family: -apple-system, BlinkMacSystemFont, San Francisco, Segoe UI, Roboto, Helvetica Neue, sans-serif; font-size: 14px; -webkit-font-smoothing: antialiased; }'
        }
        if (localStorage.getItem("tablerTheme") === 'dark') {
            options.skin = 'oxide-dark';
            options.content_css = 'dark';
        }
        tinyMCE.init(options);
    })
</script>